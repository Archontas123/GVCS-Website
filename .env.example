# CS Club Hackathon Platform - Environment Configuration
# Phase 6.2: Production environment configuration template

# ==============================================
# APPLICATION SETTINGS
# ==============================================
NODE_ENV=production
PORT=3000
FRONTEND_PORT=80
BACKEND_PORT=3000

# Domain and URLs
DOMAIN=yourdomain.com
REACT_APP_API_URL=https://yourdomain.com/api
REACT_APP_WS_URL=wss://yourdomain.com

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
# JWT Secret (Generate with: openssl rand -hex 64)
JWT_SECRET=your-super-secret-jwt-key-here-make-it-long-and-random
JWT_EXPIRES_IN=24h

# Admin Password (Use strong password)
ADMIN_PASSWORD=your-secure-admin-password

# Session Secret
SESSION_SECRET=your-session-secret-key

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
# Database type (sqlite, postgres)
DB_TYPE=postgres
DATABASE_URL=postgresql://hackathon_user:hackathon_password@postgres:5432/hackathon_db

# PostgreSQL settings (when using postgres)
DB_HOST=postgres
DB_PORT=5432
DB_NAME=hackathon_db
POSTGRES_DB=hackathon_db
POSTGRES_USER=hackathon_user
POSTGRES_PASSWORD=your-secure-database-password

# SQLite settings (when using sqlite)
SQLITE_PATH=./src/database/contest.db

# ==============================================
# REDIS CONFIGURATION
# ==============================================
REDIS_URL=redis://redis:6379
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password

# ==============================================
# CONTEST SETTINGS
# ==============================================
# Contest duration in minutes
CONTEST_DURATION=240
DEFAULT_CONTEST_DURATION=180
DEFAULT_FREEZE_TIME=60

# Maximum teams allowed
MAX_TEAMS=100

# Submission rate limiting
MAX_SUBMISSIONS_PER_MINUTE=10
MAX_SUBMISSIONS_PER_HOUR=60

# Problem settings
MAX_PROBLEMS_PER_CONTEST=10
DEFAULT_TIME_LIMIT=5000
DEFAULT_MEMORY_LIMIT=256

# ==============================================
# CODE EXECUTION SETTINGS
# ==============================================
# Enable/disable code execution
ENABLE_CODE_EXECUTION=true

# Execution limits
EXECUTION_TIMEOUT=10
MEMORY_LIMIT=256
CPU_LIMIT=1.0

# Supported languages
SUPPORTED_LANGUAGES=cpp,java,python3

# Docker settings for code execution
DOCKER_NETWORK=hackathon_network
JUDGE_CONTAINER=hackathon_judge

# ==============================================
# MONITORING & LOGGING
# ==============================================
# Enable metrics collection
ENABLE_METRICS=true
PROMETHEUS_PORT=9090

# Grafana settings
GRAFANA_PORT=3001
GRAFANA_USER=admin
GRAFANA_PASSWORD=your-grafana-password

# Loki settings
LOKI_PORT=3100

# Log levels: error, warn, info, debug
LOG_LEVEL=info
LOG_FILE=./logs/combined.log
ERROR_LOG_FILE=./logs/error.log

# ==============================================
# EMAIL NOTIFICATIONS (Optional)
# ==============================================
ENABLE_EMAIL=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
FROM_EMAIL=noreply@yourdomain.com

# ==============================================
# RATE LIMITING
# ==============================================
# API rate limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=1000

# Login attempt limiting
LOGIN_RATE_LIMIT_WINDOW=900000
LOGIN_RATE_LIMIT_MAX=5

# ==============================================
# BACKUP SETTINGS
# ==============================================
# Enable automatic backups
ENABLE_BACKUPS=true
BACKUP_INTERVAL=3600
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# S3 backup settings (optional)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_BUCKET_NAME=hackathon-backups
AWS_REGION=us-east-1

# ==============================================
# SSL/TLS CONFIGURATION
# ==============================================
# SSL certificate paths
SSL_CERT_PATH=./nginx/ssl/cert.pem
SSL_KEY_PATH=./nginx/ssl/private.key
SSL_CA_PATH=./nginx/ssl/ca.pem

# Let's Encrypt settings
LETSENCRYPT_EMAIL=your-email@domain.com
ENABLE_HTTPS=true

# ==============================================
# PERFORMANCE TUNING
# ==============================================
# Node.js settings
UV_THREADPOOL_SIZE=4
NODE_OPTIONS=--max-old-space-size=2048

# Database connection pool
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000

# Redis connection settings
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY_ON_FAILURE=100

# ==============================================
# FEATURE FLAGS
# ==============================================
# Enable/disable features
ENABLE_REAL_TIME_UPDATES=true
ENABLE_LEADERBOARD_FREEZE=true
ENABLE_TEAM_REGISTRATION=true
ENABLE_ADMIN_PANEL=true
ENABLE_SUBMISSION_QUEUE=true

# ==============================================
# TESTING SETTINGS
# ==============================================
# Test database
TEST_DB_PATH=./src/database/test.db
TEST_REDIS_URL=redis://localhost:6379/1

# Load testing
LOAD_TEST_MAX_TEAMS=50
LOAD_TEST_DURATION=300000

# ==============================================
# MISCELLANEOUS
# ==============================================
# Timezone
TZ=UTC

# Application name and version
APP_NAME=CS Club Hackathon Platform
APP_VERSION=6.2.0

# Contact information
CONTACT_EMAIL=admin@yourdomain.com
SUPPORT_URL=https://yourdomain.com/support